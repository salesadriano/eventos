name: üîß Technical Task / Refactoring
description: Tarefa t√©cnica, refatora√ß√£o ou melhoria de c√≥digo
title: "[TECH]: "
labels: ["technical", "refactoring", "needs-triage"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        ## üîß Tarefa T√©cnica
        
        Use este template para tarefas t√©cnicas, refatora√ß√µes, otimiza√ß√µes ou melhorias na base de c√≥digo.

  - type: dropdown
    id: task-type
    attributes:
      label: Tipo de Tarefa
      description: Qual tipo de tarefa t√©cnica?
      options:
        - Refatora√ß√£o de c√≥digo
        - Otimiza√ß√£o de performance
        - Melhoria de arquitetura
        - Atualiza√ß√£o de depend√™ncias
        - Migra√ß√£o de banco de dados
        - Melhoria de seguran√ßa
        - Code cleanup
        - Automa√ß√£o de testes
        - CI/CD
        - DevOps/Infraestrutura
        - Outro
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: Prioridade
      description: Qual a prioridade desta tarefa?
      options:
        - P0 - Cr√≠tica (bloqueante)
        - P1 - Alta (importante)
        - P2 - M√©dia (desej√°vel)
        - P3 - Baixa (pode aguardar)
    validations:
      required: true

  - type: dropdown
    id: module
    attributes:
      label: M√≥dulo/Camada
      description: Qual parte do sistema ser√° afetada?
      options:
        - Domain Layer (Entidades, Value Objects)
        - Application Layer (Use Cases, DTOs)
        - Infrastructure Layer (Repositories, External APIs)
        - Presentation Layer (Controllers, GraphQL)
        - Database/Migrations
        - Tests (Unit, Integration, E2E)
        - Build/Deploy
        - Documentation
        - M√∫ltiplos m√≥dulos
        - Outro
    validations:
      required: true

  - type: textarea
    id: current-situation
    attributes:
      label: Situa√ß√£o Atual
      description: Descreva o estado atual do c√≥digo/sistema
      placeholder: |
        Qual √© o problema t√©cnico atual?
        Por que esta tarefa √© necess√°ria?
    validations:
      required: true

  - type: textarea
    id: proposed-solution
    attributes:
      label: Solu√ß√£o Proposta
      description: Como voc√™ prop√µe resolver/melhorar?
      placeholder: |
        Descreva a solu√ß√£o t√©cnica proposta:
        - Abordagem t√©cnica
        - Padr√µes de design a utilizar
        - Tecnologias/bibliotecas envolvidas
        - Impacto em outras partes do sistema
    validations:
      required: true

  - type: textarea
    id: benefits
    attributes:
      label: Benef√≠cios
      description: Quais os benef√≠cios desta melhoria?
      placeholder: |
        - Melhoria de performance: X%
        - Redu√ß√£o de complexidade
        - Melhor manutenibilidade
        - Maior cobertura de testes
        - Conformidade com Clean Architecture/DDD
        - Seguran√ßa aprimorada
    validations:
      required: true

  - type: textarea
    id: risks
    attributes:
      label: Riscos e Impactos
      description: Quais os riscos e impactos desta mudan√ßa?
      placeholder: |
        - Breaking changes
        - Downtime necess√°rio
        - Migra√ß√£o de dados
        - Impacto em APIs existentes
        - Necessidade de atualiza√ß√£o de documenta√ß√£o
    validations:
      required: false

  - type: textarea
    id: technical-details
    attributes:
      label: Detalhes T√©cnicos
      description: Informa√ß√µes t√©cnicas adicionais
      placeholder: |
        **Arquivos/Classes afetados:**
        - src/domain/...
        - src/application/...
        
        **Depend√™ncias:**
        - biblioteca X vers√£o Y
        
        **Padr√µes:**
        - Repository Pattern
        - Factory Pattern
        - etc.

  - type: textarea
    id: acceptance-criteria
    attributes:
      label: Crit√©rios de Aceita√ß√£o
      description: Como saber que a tarefa est√° completa?
      placeholder: |
        - [ ] C√≥digo refatorado e testado
        - [ ] Testes existentes continuam passando
        - [ ] Novos testes adicionados (se aplic√°vel)
        - [ ] Performance medida e melhorada
        - [ ] Documenta√ß√£o atualizada
        - [ ] Code review aprovado
        - [ ] Sem breaking changes (ou documentados)
    validations:
      required: true

  - type: dropdown
    id: estimated-effort
    attributes:
      label: Estimativa de Esfor√ßo
      description: Quanto tempo essa tarefa deve levar?
      options:
        - XS (1-2 horas)
        - S (3-8 horas)
        - M (1-2 dias)
        - L (3-5 dias)
        - XL (1-2 semanas)
        - XXL (2+ semanas)
        - A definir
    validations:
      required: false

  - type: checkboxes
    id: related-areas
    attributes:
      label: √Åreas Relacionadas
      description: Marque as √°reas do sistema que ser√£o afetadas
      options:
        - label: Clean Architecture / DDD
        - label: TypeORM / Database
        - label: NestJS Modules
        - label: Event Sourcing
        - label: Authentication/Authorization
        - label: Multi-tenant
        - label: API REST / Swagger
        - label: Testes automatizados
        - label: CI/CD
        - label: Docker/Deployment

  - type: textarea
    id: testing-strategy
    attributes:
      label: Estrat√©gia de Testes
      description: Como esta mudan√ßa ser√° testada?
      placeholder: |
        - Testes unit√°rios para ...
        - Testes de integra√ß√£o para ...
        - Testes E2E para ...
        - Testes de performance/carga
        - Testes de regress√£o

  - type: textarea
    id: migration-plan
    attributes:
      label: Plano de Migra√ß√£o
      description: Se aplic√°vel, como migrar do estado atual para o novo?
      placeholder: |
        1. Prepara√ß√£o
        2. Migra√ß√£o de dados (se necess√°rio)
        3. Deploy
        4. Verifica√ß√£o
        5. Rollback plan

  - type: textarea
    id: references
    attributes:
      label: Refer√™ncias
      description: Links √∫teis, artigos, documenta√ß√£o
      placeholder: |
        - ADR relacionado: docs/Arquitetura.md#adr-xxx
        - Artigo: https://...
        - Issue relacionada: #123
        - PR relacionado: #456

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist
      options:
        - label: Esta tarefa est√° alinhada com a arquitetura do projeto
          required: true
        - label: Considerei o impacto em c√≥digo existente
          required: true
        - label: Defini crit√©rios claros de aceita√ß√£o
          required: true
