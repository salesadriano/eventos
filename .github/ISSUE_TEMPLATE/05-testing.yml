name: üß™ Testing
description: Criar ou melhorar testes automatizados
title: "[TEST]: "
labels: ["testing", "quality", "needs-triage"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        ## üß™ Testes Automatizados
        
        Use este template para propor novos testes ou melhorias na cobertura de testes.

  - type: dropdown
    id: test-type
    attributes:
      label: Tipo de Teste
      description: Qual tipo de teste ser√° implementado?
      options:
        - Teste Unit√°rio
        - Teste de Integra√ß√£o
        - Teste E2E (End-to-End)
        - Teste de Performance
        - Teste de Carga
        - Teste de Seguran√ßa
        - Teste de Regress√£o
        - Teste de Contrato (API)
        - Outro
    validations:
      required: true

  - type: dropdown
    id: module
    attributes:
      label: M√≥dulo/Feature
      description: Qual m√≥dulo ou funcionalidade ser√° testada?
      options:
        - Autentica√ß√£o
        - Fornecedores
        - Editais
        - Lotes
        - Demandas/Procurement
        - Secretarias (Multi-tenant)
        - OAuth
        - Auditoria
        - Relat√≥rios/Dashboard
        - APIs REST
        - Database/Repositories
        - Event Sourcing
        - M√∫ltiplos m√≥dulos
        - Outro
    validations:
      required: true

  - type: dropdown
    id: layer
    attributes:
      label: Camada da Arquitetura
      description: Qual camada ser√° testada?
      options:
        - Domain Layer (Entidades, Value Objects)
        - Application Layer (Use Cases)
        - Infrastructure Layer (Repositories, APIs)
        - Presentation Layer (Controllers)
        - Database
        - Integra√ß√£o entre camadas
        - Sistema completo (E2E)
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: Descri√ß√£o
      description: O que precisa ser testado?
      placeholder: |
        Descreva o escopo dos testes a serem criados/melhorados:
        - Funcionalidades a testar
        - Casos de teste espec√≠ficos
        - Edge cases importantes
    validations:
      required: true

  - type: textarea
    id: current-coverage
    attributes:
      label: Cobertura Atual
      description: Qual a situa√ß√£o atual dos testes?
      placeholder: |
        - Cobertura atual: X%
        - Testes existentes (se houver)
        - Gaps identificados
    validations:
      required: false

  - type: textarea
    id: test-scenarios
    attributes:
      label: Cen√°rios de Teste
      description: Liste os cen√°rios que devem ser testados
      placeholder: |
        **Cen√°rios de Sucesso:**
        - [ ] Cen√°rio 1: ...
        - [ ] Cen√°rio 2: ...
        
        **Cen√°rios de Erro:**
        - [ ] Valida√ß√£o de campo obrigat√≥rio
        - [ ] Permiss√µes insuficientes
        - [ ] Recurso n√£o encontrado
        
        **Edge Cases:**
        - [ ] Valores limites
        - [ ] Concorr√™ncia
        - [ ] Dados inv√°lidos
    validations:
      required: true

  - type: textarea
    id: test-data
    attributes:
      label: Dados de Teste
      description: Que dados ser√£o necess√°rios para os testes?
      placeholder: |
        - Fixtures
        - Mocks
        - Factories
        - Seeds
        - Dados espec√≠ficos necess√°rios

  - type: textarea
    id: assertions
    attributes:
      label: Asser√ß√µes Principais
      description: O que deve ser verificado nos testes?
      placeholder: |
        - Status code esperado
        - Formato de resposta
        - Valida√ß√µes de business rules
        - Estado do banco de dados
        - Eventos emitidos
        - Logs gerados
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: Prioridade
      description: Qual a prioridade destes testes?
      options:
        - P0 - Cr√≠tica (funcionalidade cr√≠tica sem testes)
        - P1 - Alta (importante para qualidade)
        - P2 - M√©dia (melhorar cobertura)
        - P3 - Baixa (nice to have)
    validations:
      required: true

  - type: textarea
    id: dependencies
    attributes:
      label: Depend√™ncias
      description: Que depend√™ncias ou prepara√ß√£o s√£o necess√°rias?
      placeholder: |
        - Bibliotecas de teste: jest, supertest, etc.
        - Configura√ß√£o de ambiente de teste
        - Dados de setup
        - Mocks de servi√ßos externos

  - type: dropdown
    id: estimated-effort
    attributes:
      label: Estimativa de Esfor√ßo
      description: Quanto tempo para implementar estes testes?
      options:
        - XS (1-2 horas)
        - S (3-8 horas)
        - M (1-2 dias)
        - L (3-5 dias)
        - XL (1+ semana)
    validations:
      required: false

  - type: checkboxes
    id: test-requirements
    attributes:
      label: Requisitos dos Testes
      description: O que os testes devem garantir?
      options:
        - label: Conformidade com requisitos funcionais
        - label: Valida√ß√£o de regras de neg√≥cio
        - label: Tratamento de erros adequado
        - label: Performance aceit√°vel
        - label: Seguran√ßa (autentica√ß√£o/autoriza√ß√£o)
        - label: Isolamento de testes (sem side effects)
        - label: Testes determin√≠sticos (sempre mesmo resultado)
        - label: Coverage m√≠nimo de 70%

  - type: textarea
    id: acceptance-criteria
    attributes:
      label: Crit√©rios de Aceita√ß√£o
      description: Como saber que os testes est√£o completos?
      placeholder: |
        - [ ] Todos os cen√°rios listados implementados
        - [ ] Testes passando no CI/CD
        - [ ] Coverage aumentado para X%
        - [ ] Code review aprovado
        - [ ] Documenta√ß√£o de testes atualizada
    validations:
      required: true

  - type: textarea
    id: references
    attributes:
      label: Refer√™ncias
      description: Links relevantes
      placeholder: |
        - Requisito funcional: RF-XXX
        - Caso de uso: UC-XXX
        - Issue relacionada: #123
        - PR relacionado: #456

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist
      options:
        - label: Identifiquei os cen√°rios cr√≠ticos a testar
          required: true
        - label: Considerei casos de sucesso e erro
          required: true
        - label: Planejei dados de teste necess√°rios
          required: true
